# ä»£ç è¿ç§»æŒ‡å—

## éœ€è¦å¤åˆ¶çš„æ–‡ä»¶å’Œç›®å½•

### 1. æ”¯æ¶é˜»åŠ›é¢„æµ‹æ¨¡å— (predictor_app)

**æºè·¯å¾„**: `G:\tzb\Version3\Old_version\Old_version\mine_project\predictor_app\`

**ç›®æ ‡è·¯å¾„**: `G:\tzb\Version3\integrated_mine_platform\predictor_app\`

**éœ€è¦å¤åˆ¶çš„æ–‡ä»¶**:
```
predictor_app/
â”œâ”€â”€ __init__.py          âœ… ç›´æ¥å¤åˆ¶
â”œâ”€â”€ admin.py             âœ… ç›´æ¥å¤åˆ¶
â”œâ”€â”€ apps.py              âœ… ç›´æ¥å¤åˆ¶
â”œâ”€â”€ models.py            âœ… ç›´æ¥å¤åˆ¶ï¼ˆåŒ…å«TrainingRunã€ModelResultæ¨¡å‹ï¼‰
â”œâ”€â”€ views.py             âœ… ç›´æ¥å¤åˆ¶ï¼ˆåŒ…å«APIç«¯ç‚¹ï¼‰
â”œâ”€â”€ urls.py              âœ… ç›´æ¥å¤åˆ¶
â”œâ”€â”€ services.py          âœ… ç›´æ¥å¤åˆ¶ï¼ˆæ ¸å¿ƒä¸šåŠ¡é€»è¾‘ï¼‰
â”œâ”€â”€ predictor_app_services.py  âœ… å¦‚æœå­˜åœ¨åˆ™å¤åˆ¶
â”œâ”€â”€ migrations/          âš ï¸ ä¸è¦å¤åˆ¶ï¼ä¼šé‡æ–°ç”Ÿæˆ
â””â”€â”€ models_lib/          âœ… å®Œæ•´å¤åˆ¶ï¼ˆæ‰€æœ‰MLæ¨¡å‹ï¼‰
    â”œâ”€â”€ __init__.py
    â”œâ”€â”€ lstm_model.py
    â”œâ”€â”€ gru_model.py
    â”œâ”€â”€ transformer_model.py
    â””â”€â”€ ... (å…¶ä»–æ¨¡å‹æ–‡ä»¶)
```

### 2. å¾®éœ‡é¢„æµ‹æ¨¡å— (microseismic_app)

**æºè·¯å¾„**: `G:\tzb\Version3\Old_version\Old_version\mine_project\microseismic_app\`

**ç›®æ ‡è·¯å¾„**: `G:\tzb\Version3\integrated_mine_platform\microseismic_app\`

**éœ€è¦å¤åˆ¶çš„æ–‡ä»¶**:
```
microseismic_app/
â”œâ”€â”€ __init__.py          âœ… ç›´æ¥å¤åˆ¶
â”œâ”€â”€ admin.py             âœ… ç›´æ¥å¤åˆ¶
â”œâ”€â”€ apps.py              âœ… ç›´æ¥å¤åˆ¶
â”œâ”€â”€ models.py            âœ… ç›´æ¥å¤åˆ¶ï¼ˆåŒ…å«MSTrainingRunã€MSModelResultæ¨¡å‹ï¼‰
â”œâ”€â”€ views.py             âœ… ç›´æ¥å¤åˆ¶
â”œâ”€â”€ urls.py              âœ… ç›´æ¥å¤åˆ¶
â”œâ”€â”€ services.py          âœ… ç›´æ¥å¤åˆ¶
â”œâ”€â”€ microseismic_app_services.py  âœ… å¦‚æœå­˜åœ¨åˆ™å¤åˆ¶
â”œâ”€â”€ migrations/          âš ï¸ ä¸è¦å¤åˆ¶ï¼
â”œâ”€â”€ models_lib/          âœ… å®Œæ•´å¤åˆ¶ï¼ˆLSTMã€Transformerã€Mambaæ¨¡å‹ï¼‰
â””â”€â”€ preprocessor/        âœ… å®Œæ•´å¤åˆ¶ï¼ˆé¢„å¤„ç†æ¨¡å—ï¼‰
    â”œâ”€â”€ __init__.py
    â”œâ”€â”€ preprocess.py    ï¼ˆZIPæ–‡ä»¶å¤„ç†ï¼‰
    â””â”€â”€ dataloader.py    ï¼ˆæ•°æ®åŠ è½½å™¨ï¼‰
```

### 3. åª’ä½“æ–‡ä»¶ï¼ˆå¯é€‰ï¼‰

**æºè·¯å¾„**: `G:\tzb\Version3\Old_version\Old_version\mine_project\media\`

**ç›®æ ‡è·¯å¾„**: `G:\tzb\Version3\integrated_mine_platform\media\`

âš ï¸ **æ³¨æ„**: è¿™äº›æ˜¯è®­ç»ƒç»“æœæ–‡ä»¶ï¼Œæ–‡ä»¶å¾ˆå¤§ï¼Œå¯ä»¥é€‰æ‹©æ€§å¤åˆ¶æˆ–ä¸å¤åˆ¶ï¼ˆä¼šé‡æ–°ç”Ÿæˆï¼‰

---

## å¤åˆ¶æ­¥éª¤ï¼ˆPowerShellå‘½ä»¤ï¼‰

### æ­¥éª¤1: å¤åˆ¶ predictor_app

```powershell
# è¿›å…¥é¡¹ç›®ç›®å½•
cd G:\tzb\Version3\integrated_mine_platform

# å¤åˆ¶æ•´ä¸ª predictor_app ç›®å½•ï¼ˆæ’é™¤migrationsï¼‰
$source = "G:\tzb\Version3\Old_version\Old_version\mine_project\predictor_app"
$dest = "G:\tzb\Version3\integrated_mine_platform\predictor_app"

# åˆ›å»ºç›®æ ‡ç›®å½•
New-Item -ItemType Directory -Force -Path $dest

# å¤åˆ¶æ‰€æœ‰Pythonæ–‡ä»¶
Copy-Item "$source\*.py" -Destination $dest -Force

# å¤åˆ¶ models_lib ç›®å½•
Copy-Item "$source\models_lib" -Destination $dest -Recurse -Force

# åˆ›å»ºç©ºçš„ migrations ç›®å½•
New-Item -ItemType Directory -Force -Path "$dest\migrations"
New-Item -ItemType File -Force -Path "$dest\migrations\__init__.py"
```

### æ­¥éª¤2: å¤åˆ¶ microseismic_app

```powershell
# å¤åˆ¶æ•´ä¸ª microseismic_app ç›®å½•
$source = "G:\tzb\Version3\Old_version\Old_version\mine_project\microseismic_app"
$dest = "G:\tzb\Version3\integrated_mine_platform\microseismic_app"

# åˆ›å»ºç›®æ ‡ç›®å½•
New-Item -ItemType Directory -Force -Path $dest

# å¤åˆ¶æ‰€æœ‰Pythonæ–‡ä»¶
Copy-Item "$source\*.py" -Destination $dest -Force

# å¤åˆ¶ models_lib ç›®å½•
Copy-Item "$source\models_lib" -Destination $dest -Recurse -Force

# å¤åˆ¶ preprocessor ç›®å½•
Copy-Item "$source\preprocessor" -Destination $dest -Recurse -Force

# åˆ›å»ºç©ºçš„ migrations ç›®å½•
New-Item -ItemType Directory -Force -Path "$dest\migrations"
New-Item -ItemType File -Force -Path "$dest\migrations\__init__.py"
```

### æ­¥éª¤3: æ•°æ®åº“è¿ç§»

```powershell
# æ¿€æ´»è™šæ‹Ÿç¯å¢ƒï¼ˆå¦‚æœæœ‰ï¼‰
# .\venv\Scripts\Activate.ps1

# ç”Ÿæˆè¿ç§»æ–‡ä»¶
python manage.py makemigrations predictor_app
python manage.py makemigrations microseismic_app

# åº”ç”¨è¿ç§»
python manage.py migrate
```

### æ­¥éª¤4: éªŒè¯å¤åˆ¶ç»“æœ

```powershell
# æ£€æŸ¥ç›®å½•ç»“æ„
Get-ChildItem -Path "G:\tzb\Version3\integrated_mine_platform\predictor_app" -Recurse -Name
Get-ChildItem -Path "G:\tzb\Version3\integrated_mine_platform\microseismic_app" -Recurse -Name
```

---

## ä¸€é”®å¤åˆ¶è„šæœ¬

æˆ‘å·²ç»åˆ›å»ºäº†è‡ªåŠ¨åŒ–è„šæœ¬ï¼Œè¯·æŸ¥çœ‹ï¼š`copy_apps.bat`

ä½¿ç”¨æ–¹æ³•ï¼š
```powershell
# åœ¨ integrated_mine_platform ç›®å½•ä¸‹è¿è¡Œ
.\copy_apps.bat
```

---

## æ³¨æ„äº‹é¡¹

### âš ï¸ éœ€è¦æ‰‹åŠ¨æ£€æŸ¥çš„å†…å®¹

1. **å¯¼å…¥è·¯å¾„**: å¦‚æœåŸä»£ç ä¸­æœ‰ç›¸å¯¹å¯¼å…¥ï¼Œå¯èƒ½éœ€è¦è°ƒæ•´
2. **é…ç½®æ–‡ä»¶**: æ£€æŸ¥æ˜¯å¦æœ‰ç¡¬ç¼–ç çš„è·¯å¾„éœ€è¦ä¿®æ”¹
3. **ä¾èµ–åŒ…**: ç¡®ä¿ requirements.txt åŒ…å«æ‰€æœ‰éœ€è¦çš„åŒ…
4. **é™æ€æ–‡ä»¶**: Chart.js ç­‰å‰ç«¯åº“çš„å¼•ç”¨

### âœ… å·²ç»é…ç½®å¥½çš„å†…å®¹

1. **settings.py**: å·²ç»æ³¨å†Œ predictor_app å’Œ microseismic_app
2. **urls.py**: å·²ç»é…ç½®å¥½è·¯ç”±æ˜ å°„
3. **CORS**: å·²ç»é…ç½®è·¨åŸŸæ”¯æŒ
4. **Mediaæ–‡ä»¶**: å·²ç»é…ç½® MEDIA_ROOT å’Œ MEDIA_URL

### ğŸ”§ å¯èƒ½éœ€è¦çš„ä¾èµ–åŒ…

ç¡®ä¿ requirements.txt åŒ…å«ä»¥ä¸‹åŒ…ï¼ˆå¦‚æœåŸé¡¹ç›®ä½¿ç”¨ï¼‰ï¼š
- torch (æ·±åº¦å­¦ä¹ )
- numpy, pandas (æ•°æ®å¤„ç†)
- scikit-learn (æœºå™¨å­¦ä¹ )
- matplotlib, seaborn (å¯è§†åŒ–)
- Chart.js (å‰ç«¯å›¾è¡¨ - é€šè¿‡npmå®‰è£…)

---

## æµ‹è¯•æ­¥éª¤

å¤åˆ¶å®Œæˆåï¼ŒæŒ‰ä»¥ä¸‹æ­¥éª¤æµ‹è¯•ï¼š

1. **å¯åŠ¨åç«¯**:
   ```powershell
   python manage.py runserver
   ```

2. **æµ‹è¯•API**:
   - http://127.0.0.1:8000/api/predictor/
   - http://127.0.0.1:8000/api/microseismic/

3. **æ£€æŸ¥Admin**:
   - http://127.0.0.1:8000/admin
   - æŸ¥çœ‹æ˜¯å¦æ˜¾ç¤ºæ–°çš„æ¨¡å‹

4. **å‰ç«¯é›†æˆ**: 
   - æ›´æ–° PredictorPage.vue
   - æ›´æ–° MicroseismicPage.vue

---

## é‡åˆ°é—®é¢˜ï¼Ÿ

### ImportError: No module named 'xxx'
è§£å†³: `pip install xxx` æˆ–æ›´æ–° requirements.txt

### æ•°æ®åº“è¿ç§»é”™è¯¯
è§£å†³: åˆ é™¤ db.sqlite3 é‡æ–°è¿ç§»ï¼Œæˆ–æ£€æŸ¥æ¨¡å‹å®šä¹‰

### è·¯å¾„é”™è¯¯
è§£å†³: æ£€æŸ¥ settings.py ä¸­çš„ MEDIA_ROOT, STATIC_ROOT ç­‰é…ç½®

### CORSé”™è¯¯
è§£å†³: å·²åœ¨ settings.py é…ç½®ï¼Œæ£€æŸ¥å‰ç«¯è¯·æ±‚åœ°å€æ˜¯å¦æ­£ç¡®
